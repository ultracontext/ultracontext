---
title: 'Python SDK'
description: 'Manage your agent context with Python'
---

## Prerequisites

To follow this quickstart, you'll need:

- **An UltraContext API key**

If you don't have one yet, [get yours](https://ultracontext.ai) or [self-host](/guides/self-hosting).

## 1. Install

<CodeGroup>
```bash pip
pip install ultracontext
```

```bash uv
uv add ultracontext
```

```bash poetry
poetry add ultracontext
```
</CodeGroup>

## 2. Create your first context

```python Python
import os
from ultracontext import UltraContext
uc = UltraContext(api_key=os.environ["ULTRACONTEXT_API_KEY"])
ctx = uc.create()

# append messages
uc.append(ctx["id"], {"role": "system", "content": "You are a helpful assistant."})  # v0
uc.append(ctx["id"], {"role": "user", "content": "Hello!"})  # v0

# update and delete messages
uc.update(ctx["id"], {"index": 0, "content": "New system prompt."})  # v1
uc.delete(ctx["id"], -1)  # v2

# or by id
# uc.update(ctx["id"], {"id": "msg_abc", "content": "Fixed!"})
# uc.delete(ctx["id"], "msg_xyz")

# context is automatically versioned — fetch with history
result = uc.get(ctx["id"], history=True)
# → result["versions"]: [
#     {"version": 0, "operation": "create", "affected": None},
#     {"version": 1, "operation": "update", "affected": ["msg_a"]},
#     ...
# ]

# use it with your favorite LLM framework
response = generate_text(model=model, messages=result["data"])
```

Every update and delete auto-creates a new version. Retrieve any previous state with `uc.get(ctx_id, version=n)`.

<Info>UltraContext is **framework-agnostic** and **schema-free**. Use it with any LLM provider and store context in any format you need.</Info>

Messages can have any fields you need:

```python Python
uc.append(ctx["id"], {
    "role": "user",
    "content": "Hello!",
    "model": "gpt-4o",
    "tokens": 150,
    "custom_field": "anything"
})

# stored as:
# {
#   "id": "msg_abc",
#   "index": 0,
#   "role": "user",
#   "content": "Hello!",
#   "model": "gpt-4o",
#   "tokens": 150,
#   "custom_field": "anything"
# }
```

## Next steps

<CardGroup cols={2}>
    <Card title="Store & Retrieve" icon="database" href="/guides/store-retrieve-contexts">
        Create contexts and manage messages.
    </Card>
    <Card title="View History" icon="clock-rotate-left" href="/guides/view-context-history">
        Time-travel through context versions.
    </Card>
    <Card title="Fork & Clone" icon="code-branch" href="/guides/fork-clone-contexts">
        Branch contexts for parallel workflows.
    </Card>
    <Card title="Edit Contexts" icon="pen" href="/guides/edit-contexts">
        Update and delete messages.
    </Card>
</CardGroup>
